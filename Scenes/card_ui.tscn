[gd_scene load_steps=3 format=3 uid="uid://l1m76cq5pm87"]

[ext_resource type="Script" uid="uid://bd268hyv1mxjr" path="res://Scripts/card_ui.gd" id="1_lgc0u"]

[sub_resource type="GDScript" id="GDScript_y8epe"]
script/source = "extends Button

var numberOfCards = 0
var maxNumberOfCards = 5
var card = preload(\"res://Scenes/card.tscn\")
@onready var card_container = get_parent().get_node(\"CardContainer\")

func initiateCard() -> void:
	if numberOfCards < maxNumberOfCards:
		numberOfCards += 1
		var spawnedCard = card.instantiate()
		spawnedCard.position = Vector2(30 + 40 * numberOfCards, 150)
		card_container.add_child(spawnedCard)
	
func _on_pressed() -> void:
	initiateCard()
"

[node name="Card UI" type="Control" groups=["cardUI"]]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0
script = ExtResource("1_lgc0u")

[node name="CardContainer" type="Control" parent="."]
anchors_preset = 0
offset_right = 324.0
offset_bottom = 193.0

[node name="DrawCardButton" type="Button" parent="."]
layout_mode = 0
offset_left = 11.0
offset_top = 292.0
offset_right = 65.0
offset_bottom = 346.0
text = "Draw Card"
autowrap_mode = 2
script = SubResource("GDScript_y8epe")

[node name="TimerBar" type="ProgressBar" parent="."]
layout_mode = 1
anchors_preset = -1
anchor_left = 0.375
anchor_top = 1.0
anchor_right = 0.375
anchor_bottom = 5.537
offset_left = -12.0
offset_top = 309.0
offset_right = 129.0
offset_bottom = 154.52
scale = Vector2(0.5, 0.3)

[node name="DiscardPileButton" type="Button" parent="."]
layout_mode = 1
anchors_preset = -1
anchor_left = 11.519
anchor_top = 8.587
anchor_right = 11.519
anchor_bottom = 8.587
offset_left = -16.76
offset_top = -13.48
offset_right = 50.24
offset_bottom = 40.52
scale = Vector2(0.5, 0.5)
text = "Discard
Pile"

[node name="ObjectLabel" type="Label" parent="."]
layout_mode = 0
offset_left = 178.0
offset_top = 7.0
offset_right = 298.0
offset_bottom = 30.0
horizontal_alignment = 1

[node name="DeckLabel" type="Label" parent="."]
layout_mode = 0
offset_left = 29.0
offset_top = 270.0
offset_right = 48.0
offset_bottom = 293.0
text = "35"
horizontal_alignment = 1

[node name="HealthText" type="Label" parent="."]
layout_mode = 0
offset_left = 5.0
offset_top = 5.0
offset_right = 61.0
offset_bottom = 28.0
text = "Health:"

[node name="HealthLabel" type="Label" parent="." groups=["ui_labels"]]
layout_mode = 0
offset_left = 62.0
offset_top = 6.0
offset_right = 81.0
offset_bottom = 29.0
text = "30"
horizontal_alignment = 1

[node name="MoneyText" type="Label" parent="."]
layout_mode = 0
offset_left = 5.0
offset_top = 23.0
offset_right = 62.0
offset_bottom = 46.0
text = "Money:"

[node name="MoneyLabel" type="Label" parent="." groups=["ui_labels"]]
layout_mode = 0
offset_left = 62.0
offset_top = 24.0
offset_right = 102.0
offset_bottom = 47.0
text = "12"

[node name="EnemyHealthText" type="Label" parent="." groups=["ui_labels"]]
layout_mode = 0
offset_left = 266.0
offset_top = 78.0
offset_right = 351.0
offset_bottom = 101.0

[node name="EnemyHealthLabel" type="Label" parent="." groups=["ui_labels"]]
layout_mode = 0
offset_left = 350.0
offset_top = 78.0
offset_right = 369.0
offset_bottom = 101.0
horizontal_alignment = 1

[node name="EnemyAttackBar" type="ProgressBar" parent="." groups=["ui_labels"]]
layout_mode = 0
offset_left = 296.0
offset_top = 104.0
offset_right = 423.0
offset_bottom = 131.0

[connection signal="pressed" from="DrawCardButton" to="." method="_on_draw_card_button_pressed"]
[connection signal="button_down" from="DiscardPileButton" to="." method="_on_discard_pile_button_button_down"]
